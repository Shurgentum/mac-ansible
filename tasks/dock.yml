---
- name: Ensure dockutil is installed
  community.general.homebrew:
    name: dockutil
    state: present

- name: Remove configured Dock items.
  ansible.builtin.include_tasks: dock-remove.yml
  loop: "{{ dock_remove }}"
  loop_control:
    extended: true
    extended_allitems: false

- name: Add configured Dock items.
  ansible.builtin.include_tasks: dock-add.yml
  loop: "{{ dock_add }}"
  loop_control:
    extended: true
    extended_allitems: false

- name: Position configured Dock items.
  ansible.builtin.include_tasks: dock-position.yml
  loop: "{{ dock_add }}"
  loop_control:
    extended: true
    extended_allitems: false
