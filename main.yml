---
- name: Confiugre
  hosts: localhost

  vars_files:
    - ./defaults.yml
    - ./vars/static.yml

  handlers:
    - name: Remove Oh My Zsh install file
      ansible.builtin.import_tasks:
        file: handlers/general.yml

  tasks:
    - name: Install Oh My Zsh
      ansible.builtin.import_tasks:
        file: tasks/omz.yml
      tags:
        - omz

    - name: Global configuration
      ansible.builtin.import_tasks:
        file: tasks/global.yml
      tags:
        - global

    - name: Homebrew
      ansible.builtin.import_tasks:
        file: tasks/brew.yml

    - name: Mac App Store
      ansible.builtin.import_tasks:
        file: tasks/mas.yml
      tags:
        - mas

    - name: Configure dock
      ansible.builtin.import_tasks:
        file: tasks/dock.yml
      tags:
        - dock
